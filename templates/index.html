{% extends 'layout.html' %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="card border-0 shadow-sm mb-4">
            <div class="card-body p-4">
                <h1 class="mb-4 text-center">AI CV Polish</h1>
                <p class="lead text-center">Improve your chances of landing your dream job!</p>
                <p class="text-center mb-4">Use our premium CV analysis and cover letter generator to stand out from the competition.</p>
                <div class="alert alert-info mb-4">
                    <p class="mb-0 text-center">Many users report a 70% increase in responses after using our tools!</p>
                </div>
                
                <form action="{{ url_for('analyze') }}" method="POST" enctype="multipart/form-data" class="mt-4" id="resume-form">
                    <div class="mb-4">
                        <div class="d-flex justify-content-center mb-3">
                            <div class="btn-group" role="group">
                                <input type="radio" class="btn-check" name="input-type" id="upload-option" autocomplete="off" checked>
                                <label class="btn btn-outline-primary" for="upload-option">Upload File</label>
                                
                                <input type="radio" class="btn-check" name="input-type" id="paste-option" autocomplete="off">
                                <label class="btn btn-outline-primary" for="paste-option">Paste Text</label>
                            </div>
                        </div>
                        
                        <div id="upload-section" class="mb-3">
                            <div class="input-group">
                                <input type="file" class="form-control" id="resume-file" name="resume_file" accept=".pdf,.docx,.txt">
                                <label class="input-group-text" for="resume-file">Upload</label>
                            </div>
                            <div class="form-text">Supported formats: PDF, DOCX, TXT</div>
                        </div>
                        
                        <div id="paste-section" class="mb-3" style="display: none;">
                            <textarea class="form-control" id="resume-text" name="resume_text" rows="10" placeholder="Paste your CV text here..."></textarea>
                        </div>
                    </div>
                    
                    <!-- Hidden language selection that works with the nav bar language selector -->
                    <div class="mb-4">
                        <input type="hidden" name="language" id="language-input" value="en">
                    </div>
                    
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-lg">Analyze CV</button>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="card border-0 shadow-sm mb-4">
            <div class="card-body p-4">
                <h3 class="text-center">How It Works</h3>
                <div class="row mt-4">
                    <div class="col-md-4 mb-3">
                        <div class="text-center mb-2">
                            <i class="fas fa-upload fa-3x text-primary"></i>
                        </div>
                        <h5 class="text-center">Upload Your CV</h5>
                        <p class="text-center">Upload your CV in PDF, DOCX, or TXT format or paste the text directly.</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="text-center mb-2">
                            <i class="fas fa-robot fa-3x text-primary"></i>
                        </div>
                        <h5 class="text-center">AI Analysis</h5>
                        <p class="text-center">Our AI analyzes your CV for grammar, style, and content improvements.</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="text-center mb-2">
                            <i class="fas fa-check-circle fa-3x text-primary"></i>
                        </div>
                        <h5 class="text-center">Get Suggestions</h5>
                        <p class="text-center">Review personalized suggestions and download your improved CV.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card border-0 shadow-sm mb-4">
            <div class="card-body p-4">
                <h3 class="text-center mb-4">Cover Letter Testimonials</h3>
                <div class="row">
                    <div class="col-md-4 mb-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <p class="card-text">"Thanks to the generated cover letter, I got an interview with my dream company! It perfectly highlighted my strengths and showed why I'm the right fit for the position."</p>
                            </div>
                            <div class="card-footer bg-transparent border-0">
                                <p class="mb-0 text-end"><strong>Maria K.</strong>, Software Engineer</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <p class="card-text">"I had been sending resumes for a month with no response. After using your Anschreiben generator, I received three interview invitations in the first week!"</p>
                            </div>
                            <div class="card-footer bg-transparent border-0">
                                <p class="mb-0 text-end"><strong>Thomas L.</strong>, Marketing Specialist</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <p class="card-text">"The personalized cover letter created by this tool impressed my current employer. The recruiter even mentioned it during the interview!"</p>
                            </div>
                            <div class="card-footer bg-transparent border-0">
                                <p class="mb-0 text-end"><strong>Anna S.</strong>, Data Analyst</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card border-0 shadow-sm">
            <div class="card-body p-4">
                <h3 class="text-center mb-4">Our Features</h3>
                <div class="row mt-4">
                    <div class="col-md-4 mb-3">
                        <div class="text-center mb-2">
                            <i class="fas fa-brain fa-3x text-primary"></i>
                        </div>
                        <h5 class="text-center">AI Analysis</h5>
                        <p class="text-center">Powerful artificial intelligence analyzes your CV and offers specific improvements.</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="text-center mb-2">
                            <i class="fas fa-file-signature fa-3x text-primary"></i>
                        </div>
                        <h5 class="text-center">Letter Generator</h5>
                        <p class="text-center">Creation of personalized cover letters tailored to specific job openings.</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="text-center mb-2">
                            <i class="fas fa-language fa-3x text-primary"></i>
                        </div>
                        <h5 class="text-center">Multilingual</h5>
                        <p class="text-center">Support for analysis in English and German for the international job market.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const uploadOption = document.getElementById('upload-option');
        const pasteOption = document.getElementById('paste-option');
        const uploadSection = document.getElementById('upload-section');
        const pasteSection = document.getElementById('paste-section');
        
        uploadOption.addEventListener('change', function() {
            if (this.checked) {
                uploadSection.style.display = 'block';
                pasteSection.style.display = 'none';
            }
        });
        
        pasteOption.addEventListener('change', function() {
            if (this.checked) {
                uploadSection.style.display = 'none';
                pasteSection.style.display = 'block';
            }
        });
        
        // Setup nav language buttons to update the form language
        const navLangRadios = document.querySelectorAll('input[name="language-nav"]');
        const languageInput = document.getElementById('language-input');
        
        navLangRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                if (languageInput) {
                    languageInput.value = this.value;
                    console.log('Updated language to: ' + this.value);
                }
            });
        });
        
        // Initialize form language from nav language
        navLangRadios.forEach(radio => {
            if (radio.checked && languageInput) {
                languageInput.value = radio.value;
            }
        });
    });
</script>
{% endblock %}
